<h2>Tasks</h2>

<section class="tasks">

  <!-- ADD TASK FORM -->
  <form (ngSubmit)="addTask()" [formGroup]="addTaskForm">
    <input
      type="text"
      placeholder="Nova tarefa"
      formControlName="title"
    />

    <small *ngIf="addTaskForm.controls.title.touched &&
                  addTaskForm.controls.title.invalid">
      MÃ­nimo de 3 caracteres
    </small>

    <button type="submit" [disabled]="addTaskForm.invalid">
      Adicionar
    </button>
  </form>

  <!-- SEARCH -->
  <input
    type="text"
    placeholder="Buscar tarefas"
    [formControl]="searchControl"
  />

  <!-- TASK LIST -->
  <ul>
    <li *ngFor="let task of tasks$ | async; trackBy: trackById">

      <input
        type="checkbox"
        [checked]="task.completed"
        (change)="toggle(task)"
      />

      <span [class.done]="task.completed">
        {{ task.title }}
      </span>

      <button (click)="remove(task)">ðŸ—‘</button>

    </li>
  </ul>

</section>